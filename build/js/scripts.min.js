const burger=document.querySelector(".burger"),body=document.querySelector("body");function burgerMenuFunc(){const e=burger.querySelector(".burger__menu"),t=burger.querySelector(".burger__btn");t.addEventListener("click",(()=>{e.classList.contains("active")?(e.classList.remove("active"),t.classList.remove("active-burger"),body.classList.remove("locked")):(e.classList.add("active"),t.classList.add("active-burger"),body.classList.add("locked"))})),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&(e.classList.remove("active"),t.classList.remove("active-burger"),body.classList.remove("locked"))}))}function fixedNav(){const e=document.querySelector("nav");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}burger&&burgerMenuFunc(),window.addEventListener("scroll",fixedNav);let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let l=t.innerHTML,s=document.createElement("div");s.classList.add("swiper-wrapper"),s.innerHTML=l,t.innerHTML="",t.appendChild(s),t.classList.add("swiper-bild")}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}if(document.querySelector(".slider")){let e=document.querySelectorAll(".slider");for(let t=0;t<e.length;t++){let l=e[t].querySelector(".slider__body");new Swiper(l,{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,loop:!0})}}class MyCustomSelect{constructor(e,t){this.$el=document.querySelector(e),this.data=t,this.mapPlaceholder=new Map,this.#e(),this.#t()}#e(){this.data.options.forEach((e=>{this.mapPlaceholder.has(e.placeholdername)?this.mapPlaceholder.set(e.placeholdername,{value:this.mapPlaceholder.get(e.placeholdername).value+e.value,tails:e.tails}):this.mapPlaceholder.set(e.placeholdername,{value:+e.value,tails:e.tails})})),console.log("map",this.mapPlaceholder),this.$el.innerHTML=selectTemplate(this.data)}#t(){this.$el.addEventListener("click",(e=>{if(e.target.closest(".select__title"))this.$el.querySelector(".select__body").classList.toggle("show");else if(e.target.classList.contains("quantity__btn")){const t=e.target.closest(".quantity"),l=t.dataset.index,s=this.data.options[l];let a,i=!1;e.target.classList.contains("quantity__minus")&&s.value>0&&(a=this.mapPlaceholder.get(s.placeholdername),this.data.options[l].value--,a.value--,i=!0),e.target.classList.contains("quantity__plus")&&this.data.options[l].value<this.data.options[l].maxvalue&&(a=this.mapPlaceholder.get(s.placeholdername),this.data.options[l].value++,a.value++,i=!0),i&&(t.querySelector(".quantity__value").innerHTML=`${this.data.options[l].value}`,this.mapPlaceholder.set(s.placeholdername,a),this.$el.querySelector(".card__input").innerHTML=`${this.#l()}`)}}))}#l(){let e=[];for(let t of this.mapPlaceholder.keys())if(this.mapPlaceholder.get(t).value>0){let l=this.mapPlaceholder.get(t).value,s=termOfNum(this.mapPlaceholder.get(t).value,this.mapPlaceholder.get(t).tails);e.push(`${l} ${s}`)}else;return 0==e.length?this.data.placeholder:e.join(", ")}#s(){}}const selectTemplate=e=>`\n\t<label class="select__title">\n\t\t<div class="card__name">${e.title}</div>\n\t\t<div type="text" class="card__input">\n\t\t\t<span>${e.placeholder}</span >\n\t\t</div >\n\t</label >\n\t<div class="select__body">\n\n\t\t${optionsTemplate(e.options)}\n\n\t\t<div class="select__buttons">\n\t\t\t<div class="select__btn clear">очистить</div>\n\t\t\t<div class="select__btn done">применить</div>\n\t\t</div>\n\t</div>\n`,optionsTemplate=(e=[])=>e.map(((e,t)=>`\n\t\t<div class="select__option">\n\t\t\t<div class="select__name">${e.name}</div>\n\t\t\t<div class="select__quantity quantity" data-index=${t}>\n\t\t\t\t<div class="quantity__btn quantity__minus"></div>\n\t\t\t\t<div class="quantity__value">${e.value}</div>\n\t\t\t\t<div class="quantity__btn quantity__plus"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t`)).join(""),termOfNum=(e,t)=>(cases=[2,0,1,1,1,2],t[e%100>4&&e%100<20?2:cases[e%10<5?e%10:5]]),select=new MyCustomSelect(".select",{title:"гости",placeholder:"Сколько гостей",options:[{name:"взрослый",value:0,maxvalue:7,placeholdername:"гость",tails:["гость","гостя","гостей"]},{name:"ребёнок",value:0,maxvalue:7,placeholdername:"гость",tails:["гость","гостя","гостей"]},{name:"младенец",value:0,maxvalue:7,placeholdername:"младенец",tails:["младенец","младенца","младенцев"]}]});